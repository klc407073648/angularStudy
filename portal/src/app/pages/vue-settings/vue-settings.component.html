<div class="vue-settings-container">
  <div class="header">
    <h2>{{ 'navigation.systemSettings' | translate }}</h2>
    <button nz-button nzType="primary" routerLink="/welcome">
      <i nz-icon nzType="arrow-left"></i>
      {{ 'common.back' | translate }}
    </button>
  </div>

  <div class="status-section" *ngIf="showDebugInfo">
    <nz-card [nzTitle]="'Vue应用状态'" [nzBordered]="false" class="status-card">
      <p><strong>加载状态:</strong> {{ loadingStatus }}</p>
      <div class="debug-buttons">
        <button
          nz-button
          nzType="default"
          (click)="testLoadVue()"
          [nzLoading]="isLoading"
        >
          测试加载Vue应用
        </button>
        <button
          nz-button
          nzType="primary"
          (click)="directLoadVue()"
          [nzLoading]="isLoading"
        >
          直接加载Vue应用
        </button>
      </div>
    </nz-card>
  </div>

  <div class="loading-section" *ngIf="isLoading">
    <nz-spin [nzSize]="'large'" [nzTip]="'正在加载Vue应用...'">
      <div class="loading-placeholder"></div>
    </nz-spin>
  </div>

  <div class="error-section" *ngIf="errorMessage">
    <nz-alert
      [nzType]="'error'"
      [nzMessage]="'加载失败'"
      [nzDescription]="errorMessage"
      [nzShowIcon]="true"
      (nzOnClose)="errorMessage = ''"
    ></nz-alert>
  </div>

  <div
    #vueContainer
    id="vue-settings-container"
    class="vue-container"
    [class.hidden]="isLoading"
  ></div>
</div>
